# SmartCalc 

Реализация SmartCalc 

## Содержание:

1. **Введение**
2. **Информация**
3. **Реализация** 
4. **Установка и запуск**

## Введение

В данном проекте представлена реализация калькулятора на языке программирования С++. Помимо базовых арифметических операций, как плюс-минус и умножить-поделить, калькулятор имеет возможность вычисления арифметических выражений с учетом приоритетов, а также некоторых математических функций (синус, косинус, логарифм и т. д.). Помимо вычисления выражений калькулятор поддерживает использование переменной x и построение графика соответствующей функции.

## Информация

Для реализации калькулятора используется *алгоритм Дейкстры* для перевода выражений в *обратную польскую нотацию*. 

####  **Паттерн MVC**
Паттерн MVC (Model-View-Controller, Модель-Представление-Контроллер) представляет из себя схему разделения модулей приложения на три отдельных макрокомпонента: модель, содержащую в себе бизнес-логику, представление (форму пользовательского интерфейса для осуществления взаимодействия с программой) и контроллер, осуществляющий модификацию модели по действию пользователя.

Модель хранит и осуществляет доступ к основным данным, производит по запросам операции, определенные бизнес-логикой программы, то есть отвечает за ту часть программы, которая ответственна за все алгоритмы и процессы обработки информации. Данные модели, изменяясь под действием контроллера, влияют на отображение информации на представлении пользовательского интерфейса. В качестве модели в данной программе должна выступить библиотека классов, осуществляющая вычисления калькулятора. Эта библиотека должна предоставлять все необходимые классы и методы для осуществления подсчетов. Это и есть бизнес-логика данной программы, так как предоставляет средства для решения задачи. 

Контроллер — тонкий макрокомпонент, который осуществляет модификацию модели. Через него формируются запросы на изменение модели. В коде он выглядит как некий «фасад» для модели, то есть набор методов, которые уже работают напрямую с ней. Тонким он называется потому, что идеальный контроллер не содержит в себе никакой дополнительной логики, кроме вызова одного или нескольких методов модели. Контроллер выполняет функцию связующего элемента между интерфейсом и моделью. Это позволяет полностью инкапсулировать модель от отображения. Такое разделение полезно в силу того, что позволяет коду представления ничего не знать о коде модели и обращаться к одному лишь контроллеру, интерфейс предоставляемых функций которого, вероятно, не будет значительно меняться. Модель же может претерпевать значительные изменения, и, при «переезде» на другие алгоритмы, технологии или даже языки программирования в модели, потребуется поменять лишь небольшой участок кода в контроллере, непосредственно связанный с моделью. Иначе, вероятнее всего, пришлось бы переписывать значительную часть кода интерфейса, так как он бы сильно зависел от реализации модели. Таким образом, взаимодействуя с интерфейсом, пользователь вызывает методы контроллера, которые модифицируют модель.

К представлению относится весь код, связанный с интерфейсом программы. В коде  интерфейса не должно быть никакой бизнес-логики. Он только представляет форму для взаимодействия с пользователем.


## Реализация SmartCalc 

- Программа разработана на языке C++ стандарта C++17.
- Код программы находится в папке src.
- При написании кода выдерживается Google Style.
- Имеется полное покрытие unit-тестами модулей, связанных с вычислением выражений, c помощью библиотеки GTest.
- Сборка программы настроена с помощью Makefile со стандартным набором целей для GNU-программ: all, install, uninstall, clean, dvi, dist, tests.
- Реализация с графическим пользовательским интерфейсом, на базе любой GUI-библиотеки с API для C++17: Qt
- Программа реализована с использованием паттерна MVC, а также:
- На вход программы могут подаваться как целые числа, так и вещественные числа, записанные и через точку, и в экспоненциальной форме записи.
- Вычисление производится после полного ввода вычисляемого выражения и нажатия на символ `=`.
- Вычисление произвольных скобочных арифметических выражений производится в инфиксной нотации.
- Вычисление произвольных скобочных арифметических выражений производится в инфиксной нотации с подстановкой значения переменной _x_ в виде числа.
- Проверяемая точность дробной части имеет 7 знаков после запятой.
- У пользователя есть возможность ввода до 255 символов.
- Скобочные арифметические выражения в инфиксной нотации поддерживают следующие арифметические операции и математические функции:
    - **Арифметические операторы**:

        - Скобки  (a + b) 
        -  Сложение  a + b 
        -  Вычитание  a - b 
        -  Умножение  a * b 
        -  Деление  a / b 
        -  Возведение в степень  a ^ b 
        -  Остаток от деления  a % b 
        -  Унарный минус  -a 

    - **Функции**:
  
        | Описание функции | Функция |   
        | ---------------- | ------- |  
        | Вычисляет косинус | cos(x) |   
        | Вычисляет синус | sin(x) |  
        | Вычисляет тангенс | tan(x) |  
        | Вычисляет арккосинус | acos(x) | 
        | Вычисляет арксинус | asin(x) | 
        | Вычисляет арктангенс | atan(x) |
        | Вычисляет квадратный корень | sqrt(x) |
        | Вычисляет натуральный логарифм | ln(x) | 
        | Вычисляет десятичный логарифм | log(x) |


## Установка и запуск 

1) Клонируйте репозиторий:
- *git clone*
2) Перейдите в директорию проекта:
- *cd CPP_SmartCalc/src*
3) Соберите проект(при сборке также будут запущены Google тесты):
- *make* 
4) Запустите программу:
- *make install*
5) Откройте приложение 
- *make open*

 **PS!**
- для установки и запуска программы необходимо установить следующие  библиотеки(если они отсутствуют):
1) ***GTest*** - библиотека для написания тестов на С++. 
    - **brew install googletest** (for macOS)
    - **sudo apt-get install libgtest-dev** (for Linux)
2) **Qt** - фреймворк для разработки графического интерфейса.
    - **brew install qt** (for macOS)
    - **sudo apt-get install qr5-default** (for Linux)
